{"version":3,"file":"static/js/46.4654ddf7.chunk.js","mappings":"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","sources":["pages/MoviePage.js","utils/Global.js","utils/api.js"],"sourcesContent":["import { useEffect, useRef, useState, lazy } from 'react';\nimport { useLocation, useParams, Link } from 'react-router-dom';\nimport { getMovieDetails } from 'utils/api';\nconst MovieDetails = lazy(() =>\n  import('../components/MovieDetails/MovieDetails')\n);\n\nconst MoviePage = () => {\n  const [movie, setMovie] = useState(null);\n  const [error, SetError] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const { movieId } = useParams();\n  const location = useLocation();\n  const fromRef = useRef(location.state?.from ?? '/');\n  useEffect(() => {\n    const controller = new AbortController();\n    async function getMovie() {\n      try {\n        setLoading(true);\n        SetError(false);\n        const fetchedMovieDetais = await getMovieDetails(\n          movieId,\n          controller.signal\n        );\n        setMovie(fetchedMovieDetais);\n      } catch (error) {\n        SetError(true);\n      } finally {\n        setLoading(false);\n      }\n    }\n    getMovie();\n    return () => controller.abort;\n  }, [movieId]);\n\n  return (\n    <div>\n      <Link to={fromRef.current}>Go Back</Link>\n      {error && <div>Something went wrong, try again.</div>}\n      {loading && <div>Movies are loading, please wait.</div>}\n      {movie && <MovieDetails movie={movie} />}\n    </div>\n  );\n};\n\nexport default MoviePage;\n","const API_KEY = 'ad57a1cb54651b0ec3ddf406d1d39fd8';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst AUTH_KEY =\n  'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhZDU3YTFjYjU0NjUxYjBlYzNkZGY0MDZkMWQzOWZkOCIsInN1YiI6IjY0MzY1ZGIyOTQ2MzE4MDEyNjM4YmFlNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.0MaGaafY6aZaycjfml7ZFP5IeOK1GQtKuKpxIF3v51o';\nconst IMG_PATH = 'https://image.tmdb.org/t/p/original';\nconst IMG_NOT_FOUND =\n  'https://1080motion.com/wp-content/uploads/2018/06/NoImageFound.jpg.png';\nexport { API_KEY, BASE_URL, AUTH_KEY, IMG_PATH, IMG_NOT_FOUND };\n","import axios from 'axios';\nimport { BASE_URL, AUTH_KEY } from './Global';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.headers = {\n  Authorization: AUTH_KEY,\n  accept: 'application/json',\n};\nasync function getMovies(controllerSignal) {\n  const r = await axios.get('trending/all/day?language=en-US', {\n    signal: controllerSignal,\n  });\n  return r.data.results;\n}\n\nasync function getMovieDetails(id, controllerSignal) {\n  const r = await axios.get(`/movie/${id}?language=en-US`, {\n    signal: controllerSignal,\n  });\n  return r.data;\n}\n\nasync function getMovieCast(id, controllerSignal) {\n  const r = await axios.get(`/movie/${id}}/credits?language=en-US`, {\n    signal: controllerSignal,\n  });\n  return r.data;\n}\nasync function getMovieReviews(id, controllerSignal) {\n  const r = await axios.get(`/movie/${id}}/reviews?language=en-US&page=1`, {\n    signal: controllerSignal,\n  });\n  return r.data.results;\n}\nasync function getMoviesByQuery(query, controllerSignal) {\n  const r = await axios.get(\n    `search/movie?query=${query}&include_adult=true&language=en-US`,\n    {\n      signal: controllerSignal,\n    }\n  );\n  return r.data.results;\n}\nexport {\n  getMovies,\n  getMovieDetails,\n  getMovieCast,\n  getMovieReviews,\n  getMoviesByQuery,\n};\n"],"names":["MovieDetails","lazy","useState","movie","setMovie","error","SetError","loading","setLoading","movieId","useParams","location","useLocation","fromRef","useRef","state","from","useEffect","controller","AbortController","getMovieDetails","signal","fetchedMovieDetais","getMovie","abort","to","current","BASE_URL","AUTH_KEY","IMG_PATH","IMG_NOT_FOUND","getMovies","controllerSignal","axios","r","data","results","id","getMovieCast","getMovieReviews","getMoviesByQuery","query","Authorization","accept"],"sourceRoot":""}